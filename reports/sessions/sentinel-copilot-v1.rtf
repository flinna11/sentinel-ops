{\rtf1\ansi\deff3\adeflang1025
{\fonttbl{\f0\froman\fprq2\fcharset0 Times New Roman;}{\f1\froman\fprq2\fcharset2 Symbol;}{\f2\fswiss\fprq2\fcharset0 Arial;}{\f3\froman\fprq2\fcharset0 Liberation Serif{\*\falt Times New Roman};}{\f4\fmodern\fprq1\fcharset0 Liberation Mono{\*\falt Courier New};}{\f5\fnil\fprq0\fcharset2 OpenSymbol{\*\falt Arial Unicode MS};}{\f6\fswiss\fprq2\fcharset0 Liberation Sans{\*\falt Arial};}{\f7\fmodern\fprq1\fcharset0 NSimSun;}{\f8\fnil\fprq2\fcharset0 Microsoft YaHei;}{\f9\fnil\fprq2\fcharset0 NSimSun;}{\f10\fnil\fprq2\fcharset0 Arial;}{\f11\fswiss\fprq0\fcharset128 Arial;}}
{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}
{\stylesheet{\s0\snext0\widctlpar\hyphpar0\ltrpar\cf0\kerning1\rtlch\af10\afs24\alang1081\ltrch\hich\af3\afs24\alang1033\dbch\af9\langfe2052\loch\f3\fs24\lang1033 Normal;}
{\s1\sbasedon19\snext20\ilvl0\outlinelevel0\sb240\sa120\rtlch\af10\afs48\ab\ltrch\hich\af3\afs48\ab\dbch\af9\loch\f3\fs48\b heading 1;}
{\s2\sbasedon19\snext20\ilvl1\outlinelevel1\sb200\sa120\rtlch\af10\afs36\ab\ltrch\hich\af3\afs36\ab\dbch\af9\loch\f3\fs36\b heading 2;}
{\s3\sbasedon19\snext20\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b heading 3;}
{\*\cs15\snext15\rtlch\ab\ltrch\b Strong;}
{\*\cs16\snext16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4 Source Text;}
{\*\cs17\snext17 Numbering Symbols;}
{\*\cs18\snext18\rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 Bullets;}
{\s19\sbasedon0\snext20\sb240\sa120\keepn\rtlch\af10\afs28\ltrch\hich\af6\afs28\dbch\af8\loch\f6\fs28 Heading;}
{\s20\sbasedon0\snext20\sl276\slmult1\sb0\sa140 Body Text;}
{\s21\sbasedon20\snext21\rtlch\af11\ltrch List;}
{\s22\sbasedon0\snext22\sb120\sa120\noline\rtlch\af11\afs24\ai\ltrch\fs24\i caption;}
{\s23\sbasedon0\snext23\noline\rtlch\af11\ltrch Index;}
{\s24\sbasedon0\snext20\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12 Horizontal Line;}
{\s25\sbasedon0\snext25\fi0\li567\lin567\ri567\rin567\sb0\sa283 Block Quotation;}
{\s26\sbasedon0\snext26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20 Preformatted Text;}
{\s27\sbasedon0\snext27\nowidctlpar\noline Table Contents;}
{\s28\sbasedon27\snext28\qc\noline\rtlch\ab\ltrch\b Table Heading;}
}{\*\listtable{\list\listtemplateid1
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'00.;}{\levelnumbers\'01;}\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid1}
{\list\listtemplateid2
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid2}
{\list\listtemplateid3
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'00.;}{\levelnumbers\'01;}\fi-283\li709}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'01.;}{\levelnumbers\'01;}\fi-283\li1418}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'02.;}{\levelnumbers\'01;}\fi-283\li2127}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'03.;}{\levelnumbers\'01;}\fi-283\li2836}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'04.;}{\levelnumbers\'01;}\fi-283\li3545}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'05.;}{\levelnumbers\'01;}\fi-283\li4254}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'06.;}{\levelnumbers\'01;}\fi-283\li4963}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'07.;}{\levelnumbers\'01;}\fi-283\li5672}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'08.;}{\levelnumbers\'01;}\fi-283\li6381}\listid3}
{\list\listtemplateid4
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid4}
{\list\listtemplateid5
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid5}
{\list\listtemplateid6
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid6}
{\list\listtemplateid7
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid7}
{\list\listtemplateid8
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid8}
{\list\listtemplateid9
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid9}
{\list\listtemplateid10
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'00.;}{\levelnumbers\'01;}\fi-283\li709}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'01.;}{\levelnumbers\'01;}\fi-283\li1418}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'02.;}{\levelnumbers\'01;}\fi-283\li2127}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'03.;}{\levelnumbers\'01;}\fi-283\li2836}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'04.;}{\levelnumbers\'01;}\fi-283\li3545}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'05.;}{\levelnumbers\'01;}\fi-283\li4254}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'06.;}{\levelnumbers\'01;}\fi-283\li4963}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'07.;}{\levelnumbers\'01;}\fi-283\li5672}
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'08.;}{\levelnumbers\'01;}\fi-283\li6381}\listid10}
{\list\listtemplateid11
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'00.;}{\levelnumbers\'01;}\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid11}
{\list\listtemplateid12
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'00.;}{\levelnumbers\'01;}\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid12}
{\list\listtemplateid13
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid13}
{\list\listtemplateid14
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid14}
{\list\listtemplateid15
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid15}
{\list\listtemplateid16
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid16}
{\list\listtemplateid17
{\listlevel\levelnfc0\leveljc0\levelstartat1\levelfollow0{\leveltext \'02\'00.;}{\levelnumbers\'01;}\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid17}
{\list\listtemplateid18
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li709}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li1418}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2127}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li2836}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li3545}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4254}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li4963}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li5672}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f5\rtlch\af5\ltrch\fi-283\li6381}\listid18}
{\list\listtemplateid19
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}\listid19}
}{\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}{\listoverride\listid8\listoverridecount0\ls8}{\listoverride\listid9\listoverridecount0\ls9}{\listoverride\listid10\listoverridecount0\ls10}{\listoverride\listid11\listoverridecount0\ls11}{\listoverride\listid12\listoverridecount0\ls12}{\listoverride\listid13\listoverridecount0\ls13}{\listoverride\listid14\listoverridecount0\ls14}{\listoverride\listid15\listoverridecount0\ls15}{\listoverride\listid16\listoverridecount0\ls16}{\listoverride\listid17\listoverridecount0\ls17}{\listoverride\listid18\listoverridecount0\ls18}{\listoverride\listid19\listoverridecount0\ls19}}{\*\generator LibreOffice/25.8.4.2$Windows_X86_64 LibreOffice_project/290daaa01b999472f0c7a3890eb6a550fd74c6df}{\info{\creatim\yr2026\mo2\dy8\hr16\min13}{\revtim\yr2026\mo2\dy8\hr16\min15}{\printim\yr0\mo0\dy0\hr0\min0}}{\*\userprops}\deftab709
\hyphauto1\viewscale100\formshade\nobrkwrptbl\paperh15840\paperw12240\margl1134\margr1134\margt1134\margb1134\sectd\sbknone\sftnnar\saftnnrlc\sectunlocked1\pgwsxn12240\pghsxn15840\marglsxn1134\margrsxn1134\margtsxn1134\margbsxn1134\ftnbj\ftnstart1\ftnrstcont\ftnnar\fet\aftnrstcont\aftnstart1\aftnnrlc
{\*\ftnsep\chftnsep}\pgndec\pard\plain \s20\sl276\slmult1\sb0\sa140\sl276\slmult1\ql\sb0\sa140\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Clarifying file issue}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\sl276\slmult1\ql\sb0\sa140\ltrpar{
The user mentioned the file is incomplete. I should ask what\u8217\'92s missing or offer to regenerate it with the full content. However, I know the tools already produced a truncated PDF earlier. I think the best approach is to provide the full content in markdown format, which the user can convert to PDF locally. I\u8217\'92ll keep it concise but complete, and ask which sections were cut. I\u8217\'92ll offer the full manual in markdown now. Good catch\u8212\'97thanks for flagging that.}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\sl276\slmult1\ql\sb0\sa140\ltrpar{
Let\u8217\'92s sidestep the truncation problem: here\u8217\'92s the }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
full, self\_contained manual in Markdown}{
, which you can save as a }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
.md}{
 or }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
.docx}{
 and export to PDF locally (VS Code, Obsidian, Word, etc.). This way you\u8217\'92re guaranteed a complete, non\_truncated version.}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\ltrpar

\par \pard\plain \s1\ilvl0\outlinelevel0\sb240\sa120\rtlch\af10\afs48\ab\ltrch\hich\af3\afs48\ab\dbch\af9\loch\f3\fs48\b\ql\ltrpar{
RKE2 + Longhorn + RabbitMQ Engineering Manual}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Architecture, Operations, and Disaster Recovery}{
\line Prepared for: Andy\line Edition: 2026\line Classification: Internal Engineering Documentation}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s2\ilvl1\outlinelevel1\sb200\sa120\rtlch\af10\afs36\ab\ltrch\hich\af3\afs36\ab\dbch\af9\loch\f3\fs36\b\ql\ltrpar{
Index}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  1.\tab}\ilvl0\ls1 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Introduction }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  2.\tab}\ilvl0\ls1 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
System architecture overview }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
2.1 Logical data flow }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
2.2 Component responsibilities }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
2.3 ASCII architecture diagram }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  3.\tab}\ilvl0\ls1 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Operational principles }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
3.1 Storage logic }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
3.2 Scheduling logic }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
3.3 Failure domains }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  4.\tab}\ilvl0\ls1 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Disaster recovery runbook }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
4.1 Executive summary }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
4.2 Preconditions }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
4.3 Severity levels }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
4.4 Scenario A \u8212\'97 node loss }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
4.5 Scenario B \u8212\'97 volume faulted / detached }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
4.6 Scenario C \u8212\'97 full cluster rebuild }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
4.7 Post\_incident checklist }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  5.\tab}\ilvl0\ls1 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Longhorn troubleshooting cheat sheet }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  6.\tab}\ilvl0\ls1 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
RabbitMQ Helm overlay (best\_practice) }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
6.1 YAML overlay }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
6.2 Deployment logic }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
6.3 Upgrade logic }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  7.\tab}\ilvl0\ls1 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Appendices }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
7.1 Key commands }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
7.2 Replica selection logic }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls1 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\ltrpar{
7.3 Salvage decision tree }
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s2\ilvl1\outlinelevel1\sb200\sa120\rtlch\af10\afs36\ab\ltrch\hich\af3\afs36\ab\dbch\af9\loch\f3\fs36\b\ql\ltrpar{
1. Introduction}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
This engineering manual documents the architecture, operational model, and disaster\_recovery procedures for a production\_grade deployment of:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls2 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
RKE2 (Kubernetes distribution) }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls2 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Longhorn (distributed block storage) }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls2 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
RabbitMQ (stateful message broker) }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
The goal is a }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
deterministic, logically justified}{
 operational framework: every action is tied to a clear reason and failure mode.}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s2\ilvl1\outlinelevel1\sb200\sa120\rtlch\af10\afs36\ab\ltrch\hich\af3\afs36\ab\dbch\af9\loch\f3\fs36\b\ql\ltrpar{
2. System architecture overview}
\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
2.1 Logical data flow}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  1.\tab}\ilvl0\ls3 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Applications publish and consume messages via RabbitMQ. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  2.\tab}\ilvl0\ls3 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
RabbitMQ persists durable state under }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
/var/lib/rabbitmq/mnesia}{
. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  3.\tab}\ilvl0\ls3 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
That path is backed by a Longhorn RWO block device exposed as a Kubernetes PVC. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  4.\tab}\ilvl0\ls3 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Longhorn replicates the underlying data across worker nodes. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  5.\tab}\ilvl0\ls3 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
RKE2 manages node lifecycle, pod scheduling, and control\_plane availability. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
The dependency chain is:}
\par \pard\plain \s25\fi0\li567\lin567\ri567\rin567\sb0\sa283\ql\ltrpar{
RKE2 \u8594\'3f Longhorn \u8594\'3f RabbitMQ \u8594\'3f Applications}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
2.2 Component responsibilities}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls4 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Applications:}{
 Business logic, message production/consumption. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls4 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
RabbitMQ:}{
 Queue semantics, message durability, clustering (if enabled). }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls4 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Longhorn:}{
 Block device abstraction, replication, failover, salvage. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls4 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
RKE2:}{
 Cluster orchestration, node health, scheduling, upgrades. }
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
2.3 ASCII architecture diagram}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
+---------------------------------------------------------------+}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|                         Users / Apps                         |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|             (Producers / Consumers of Messages)              |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
+-------------------------------+-------------------------------+}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
                                }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
                                }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
v}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
+---------------------------------------------------------------+}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|                        RabbitMQ Layer                         |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|                                                               |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  +-------------------+      +-------------------+             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  RabbitMQ Pod     |      |  RabbitMQ Pod     |   (optional)|}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  StatefulSet      |      |  HA Replica       |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  +---------+---------+      +---------+---------+             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|            |                           |                      |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|            | PVC: rabbitmq-data        | PVC: rabbitmq-data-1 |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
+------------|---------------------------|-----------------------+}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
             }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
             }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
v}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
+---------------------------------------------------------------+}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|                        Longhorn Layer                         |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|                                                               |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  StorageClass: longhorn-rabbitmq                              |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|    - provisioner: driver.longhorn.io                          |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|    - numberOfReplicas: 2                                      |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|                                                               |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  +-------------------+      +-------------------+             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  Volume: pvc-...  |      |  Volume: pvc-...  |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  (40Gi, RWO)      |      |  (40Gi, RWO)      |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  +---------+---------+      +---------+---------+             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|            |                           |                      |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|   +--------+--------+          +-------+--------+             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|   |  Engine Pod     |          |  Engine Pod    |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|   | (per volume)    |          | (per volume)   |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|   +--------+--------+          +-------+--------+             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|            |                           |                      |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|   +--------+--------+          +-------+--------+             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|   | Replica Pod(s)  |          | Replica Pod(s) |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|   | (per node)      |          | (per node)     |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|   +--------+--------+          +-------+--------+             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|            |                           |                      |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
+------------|---------------------------|-----------------------+}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
             }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
             }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
v}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
+---------------------------------------------------------------+}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|                         RKE2 Cluster                          |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|                                                               |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  +-------------------+      +-------------------+             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  worker-1         |      |  worker-2         |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  - rke2-agent     |      |  - rke2-agent     |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  - kubelet        |      |  - kubelet        |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  - longhorn-mgr   |      |  - longhorn-mgr   |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  - inst-mgr pods  |      |  - inst-mgr pods  |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  - /var/lib/longhorn (replica data)          |             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  +-------------------+      +-------------------+             |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|                                                               |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  +-------------------+                                        |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  k8s-master        |                                       |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  - rke2-server     |                                       |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  |  - API server      |                                       |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
|  +-------------------+                                       |}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
+---------------------------------------------------------------+}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s2\ilvl1\outlinelevel1\sb200\sa120\rtlch\af10\afs36\ab\ltrch\hich\af3\afs36\ab\dbch\af9\loch\f3\fs36\b\ql\ltrpar{
3. Operational principles}
\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
3.1 Storage logic}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
Longhorn\u8217\'92s model:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls5 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Engine:}{
 The process that exposes the block device and coordinates replicas. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls5 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Replicas:}{
 Sparse files on worker disks under }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
/var/lib/longhorn/replicas/...}{
. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls5 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Replication:}{
 Synchronous; writes are acknowledged only when replicas confirm. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls5 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Self\_healing:}{
 Missing replicas are rebuilt when nodes return or new nodes are added. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls5 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Salvage:}{
 Manual re\_adoption of replicas when metadata/engine state is broken but data remains. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
Key idea: }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
if the replica files are intact, the volume can usually be salvaged.}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
3.2 Scheduling logic}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls6 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
RabbitMQ uses a }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
ReadWriteOnce}{
 PVC. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls6 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
The pod must run on the node where the Longhorn volume is attached. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls6 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
RKE2 may reschedule pods during: }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls6 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Node drain }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls6 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Upgrades }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls6 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\ltrpar{
Node failure }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
Longhorn\u8217\'92s CSI driver handles attach/detach as pods move, but stale engines or broken instance managers can block this.}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
3.3 Failure domains}
\par \trowd\trql\ltrrow\trpaddft3\trpaddt0\trpaddfl3\trpaddl0\trpaddfb3\trpaddb0\trpaddfr3\trpaddr0\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx2725\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx6526\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx9164\pard\plain \s28\qc\noline\rtlch\ab\ltrch\b\intbl\qc\noline\ltrpar{
Failure domain}\cell\pard\plain \s28\qc\noline\rtlch\ab\ltrch\b\intbl\qc\noline\ltrpar{
Typical symptom}\cell\pard\plain \s28\qc\noline\rtlch\ab\ltrch\b\intbl\qc\noline\ltrpar{
Primary tool}\cell\row\pard \trowd\trql\ltrrow\trpaddft3\trpaddt0\trpaddfl3\trpaddl0\trpaddfb3\trpaddb0\trpaddfr3\trpaddr0\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx2725\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx6526\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx9164\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Single worker node}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Degraded volume, one replica missing}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Replica rebuild}\cell\row\pard \trowd\trql\ltrrow\trpaddft3\trpaddt0\trpaddfl3\trpaddl0\trpaddfb3\trpaddb0\trpaddfr3\trpaddr0\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx2725\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx6526\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx9164\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Engine/metadata mismatch}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Volume Detached or Faulted}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Engine deletion + salvage}\cell\row\pard \trowd\trql\ltrrow\trpaddft3\trpaddt0\trpaddfl3\trpaddl0\trpaddfb3\trpaddb0\trpaddfr3\trpaddr0\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx2725\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx6526\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx9164\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Full control\_plane loss}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Lost CRDs, volumes not visible}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Reinstall + salvage}\cell\row\pard \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s2\ilvl1\outlinelevel1\sb200\sa120\rtlch\af10\afs36\ab\ltrch\hich\af3\afs36\ab\dbch\af9\loch\f3\fs36\b\ql\ltrpar{
4. Disaster recovery runbook}
\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
4.1 Executive summary}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
This runbook covers recovery from:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls7 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Node failures }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls7 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Volume degradation and faults }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls7 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Engine/metadata corruption }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls7 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Full cluster rebuilds with disks preserved }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
Guiding principle: }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
prefer salvage over restore when data on disk is intact and consistent; prefer restore when integrity is doubtful.}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
4.2 Preconditions}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
Before executing DR steps, confirm:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls8 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl}{
 can reach the API server (or you know you\u8217\'92re in full rebuild mode). }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls8 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
longhorn-manager}{
 pods are Running on all worker nodes. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls8 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Instance\_manager pods are Running on all worker nodes. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls8 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Worker disks containing }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
/var/lib/longhorn}{
 are present and not obviously corrupted. }
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
4.3 Severity levels}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls9 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
SEV\_1:}{
 RabbitMQ unavailable, volume Faulted or Detached, business impact high. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls9 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
SEV\_2:}{
 RabbitMQ available but volume Degraded; risk of data loss if another node fails. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls9 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
SEV\_3:}{
 Node offline but service stable; volume Healthy or Degraded with redundancy. }
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
4.4 Scenario A \u8212\'97 node loss (volume degraded)}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Logic:}{
\line A node going offline removes one replica. Longhorn marks the volume }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Degraded}{
 but keeps it }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Attached}{
 and usable. When the node returns, Longhorn rebuilds the missing replica.}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Steps:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  1.\tab}\ilvl0\ls10 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Check node and volume status:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl get nodes}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system get volumes.longhorn.io}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  2.\tab}\ilvl0\ls10 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
If a worker is }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
NotReady}{
, attempt to bring it back:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# On the affected worker}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
sudo systemctl restart rke2-agent}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  3.\tab}\ilvl0\ls10 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Once the node is Ready, watch the volume:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system get volumes.longhorn.io -w}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\fi0\li709\lin709\ltrpar{
Expect: }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
Degraded}{
 \u8594\'3f }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
Healthy}{
 after replica rebuild.}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  4.\tab}\ilvl0\ls10 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
If RabbitMQ is unstable, restart the pod:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl rollout restart statefulset rabbitmq -n <namespace>}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
4.5 Scenario B \u8212\'97 volume faulted / detached, data on disk}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
This matches your \u8220\'93stalled 40Gi volume\u8221\'94 situation.}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Logic:}{
\line A stale or broken engine object can prevent Longhorn from attaching the volume. Deleting the engine forces the volume into }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Faulted}{
, which unlocks }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Salvage}{
. Salvage lets you explicitly choose which replicas to trust.}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Steps:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  1.\tab}\ilvl0\ls11 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Verify Longhorn control plane:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system get pods}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  2.\tab}\ilvl0\ls11 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
List engines:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system get engines.longhorn.io}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  3.\tab}\ilvl0\ls11 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Delete the engine for the problematic volume:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system delete engine -l longhornvolume=<volume-name>}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\fi0\li709\lin709\ltrpar{
After this, the volume should show as }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Faulted}{
 in the Longhorn UI.}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  4.\tab}\ilvl0\ls11 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
In the Longhorn UI:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls11 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Go to }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Volumes}{
. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls11 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Locate the Faulted volume (e.g., }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
pvc-5adeffdc-...}{
). }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls11 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Click }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
\u8942\'3f \u8594\'3f Salvage}{
. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls11 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Select replicas on }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
worker-1}{
 and }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
worker-2}{
 that correspond to the preserved data. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls11 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Confirm. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  5.\tab}\ilvl0\ls11 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Wait for the volume to transition:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls11 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Faulted \u8594\'3f Detached \u8594\'3f Healthy/Degraded. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls11 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Actual size should reflect the expected data size (e.g., ~40Gi). }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  6.\tab}\ilvl0\ls11 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Attach the volume to the node where RabbitMQ will run (via UI or by letting the pod schedule).}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  7.\tab}\ilvl0\ls11 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Restart RabbitMQ:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl scale statefulset rabbitmq -n <namespace> --replicas=0}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl scale statefulset rabbitmq -n <namespace> --replicas=1}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  8.\tab}\ilvl0\ls11 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Validate:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls11 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
RabbitMQ pod Running. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls11 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Volume Attached and Healthy/Degraded. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls11 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\ltrpar{
Application behaviour normal. }
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
4.6 Scenario C \u8212\'97 full cluster rebuild, disks preserved}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Logic:}{
\line Longhorn\u8217\'92s metadata (CRDs, etc.) lives in Kubernetes; replica data lives on disk. If you lose the cluster but keep the disks, you can reinstall Longhorn and re\_adopt replicas.}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Steps:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  1.\tab}\ilvl0\ls12 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Rebuild RKE2:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls12 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Recreate master and worker nodes. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls12 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Join workers to the cluster. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls12 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Ensure the same disks are mounted at }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
/var/lib/longhorn}{
. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  2.\tab}\ilvl0\ls12 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Reinstall Longhorn (same major/minor version as before):}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl apply -f https://raw.githubusercontent.com/longhorn/longhorn/v1.5.3/deploy/longhorn.yaml}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  3.\tab}\ilvl0\ls12 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Wait for }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
longhorn-manager}{
, }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
instance-manager}{
, and }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
engine-image}{
 pods to be Running.}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  4.\tab}\ilvl0\ls12 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
In the Longhorn UI:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls12 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Longhorn should detect existing replica directories on the worker disks. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  5.\tab}\ilvl0\ls12 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Recreate volume shells:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls12 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Create a new volume with the same size and name (or at least same PVC binding) as before. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls12 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
If necessary, use }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
Retain}{
 reclaim policy to keep PVs. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  6.\tab}\ilvl0\ls12 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Use }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Salvage}{
:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls12 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Mark the volume Faulted if needed (delete engine). }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls12 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Salvage and select the replicas corresponding to the preserved data. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  7.\tab}\ilvl0\ls12 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Recreate the RabbitMQ PVC and StatefulSet:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls12 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Use the same }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
claimName}{
 and }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
storageClassName}{
 so the PVC binds to the salvaged volume. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  8.\tab}\ilvl0\ls12 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Validate RabbitMQ and data integrity.}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
4.7 Post\_incident checklist}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls13 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
[ ] All nodes in }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
Ready}{
 state (or intentionally drained). }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls13 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
[ ] Longhorn volumes for RabbitMQ: }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Healthy}{
. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls13 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
[ ] Replica count matches policy (e.g., 2 replicas). }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls13 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
[ ] RabbitMQ pod Running, no CrashLoopBackOff. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls13 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
[ ] Queues and messages behave as expected. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls13 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
[ ] Backups tested or at least verified as present. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls13 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
[ ] Incident documented with root cause and remediation. }
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s2\ilvl1\outlinelevel1\sb200\sa120\rtlch\af10\afs36\ab\ltrch\hich\af3\afs36\ab\dbch\af9\loch\f3\fs36\b\ql\ltrpar{
5. Longhorn troubleshooting cheat sheet}
\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
Fast status commands}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# Cluster and nodes}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl get nodes}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# Longhorn core components}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system get pods}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# Volumes}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system get volumes.longhorn.io}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# Engines and replicas}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system get engines.longhorn.io}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system get replicas.longhorn.io}
\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
Symptoms \u8594\'3f causes \u8594\'3f fixes}
\par \trowd\trql\ltrrow\trpaddft3\trpaddt0\trpaddfl3\trpaddl0\trpaddfb3\trpaddb0\trpaddfr3\trpaddr0\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx2741\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx6023\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx9972\pard\plain \s28\qc\noline\rtlch\ab\ltrch\b\intbl\qc\noline\ltrpar{
Symptom}\cell\pard\plain \s28\qc\noline\rtlch\ab\ltrch\b\intbl\qc\noline\ltrpar{
Likely cause}\cell\pard\plain \s28\qc\noline\rtlch\ab\ltrch\b\intbl\qc\noline\ltrpar{
Typical fix}\cell\row\pard \trowd\trql\ltrrow\trpaddft3\trpaddt0\trpaddfl3\trpaddl0\trpaddfb3\trpaddb0\trpaddfr3\trpaddr0\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx2741\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx6023\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx9972\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Volume Degraded}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Missing or rebuilding replica}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Wait for rebuild; check node health}\cell\row\pard \trowd\trql\ltrrow\trpaddft3\trpaddt0\trpaddfl3\trpaddl0\trpaddfb3\trpaddb0\trpaddfr3\trpaddr0\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx2741\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx6023\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx9972\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Volume Detached, pod Pending}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Engine/CSI issue, node mismatch}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Check engines, delete stale engine, reattach}\cell\row\pard \trowd\trql\ltrrow\trpaddft3\trpaddt0\trpaddfl3\trpaddl0\trpaddfb3\trpaddb0\trpaddfr3\trpaddr0\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx2741\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx6023\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx9972\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Volume shows 0 B}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Metadata/engine mismatch}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Force Faulted \u8594\'3f Salvage \u8594\'3f select replicas}\cell\row\pard \trowd\trql\ltrrow\trpaddft3\trpaddt0\trpaddfl3\trpaddl0\trpaddfb3\trpaddb0\trpaddfr3\trpaddr0\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx2741\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx6023\clpadfl3\clpadl28\clpadft3\clpadt28\clpadfb3\clpadb28\clpadfr3\clpadr28\clvertalc\cellx9972\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Engine image not deployed}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Engine image DaemonSet not on node}\cell\pard\plain \s27\nowidctlpar\noline\intbl\ql\nowidctlpar\noline\ltrpar{
Restart instance managers / engine image pods}\cell\row\pard \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
Quick fixes}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# Restart instance managers}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system delete pods -l longhorn.io/component=instance-manager}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# Restart Longhorn managers}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system delete pods -l app=longhorn-manager}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# Force volume into Faulted state (for Salvage)}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system delete engine -l longhornvolume=<volume-name>}
\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
Salvage usage rules}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Use Salvage when:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls14 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Volume is Faulted. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls14 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Replica data exists on worker disks. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls14 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
You have reasonable confidence in disk integrity. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Avoid Salvage when:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls15 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Disks show corruption or hardware errors. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls15 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
You have a clean, recent backup that is safer to restore. }
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s2\ilvl1\outlinelevel1\sb200\sa120\rtlch\af10\afs36\ab\ltrch\hich\af3\afs36\ab\dbch\af9\loch\f3\fs36\b\ql\ltrpar{
6. RabbitMQ Helm overlay (best\_practice)}
\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
6.1 YAML overlay}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
replicaCount: 1}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
auth:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
username: admin}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
password: changeme}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
erlangCookie: supersecretcookie}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
persistence:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
enabled: true}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
storageClass: longhorn-rabbitmq}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
accessMode: ReadWriteOnce}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
size: 40Gi}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
resources:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
requests:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
    }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
cpu: 250m}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
    }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
memory: 512Mi}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
limits:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
    }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
cpu: 1}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
    }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
memory: 1Gi}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
volumePermissions:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
enabled: true}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
podSecurityContext:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
fsGroup: 1001}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
containerSecurityContext:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
runAsUser: 1001}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
runAsNonRoot: true}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
livenessProbe:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
enabled: true}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
initialDelaySeconds: 60}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
periodSeconds: 30}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
timeoutSeconds: 5}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
failureThreshold: 6}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
readinessProbe:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
enabled: true}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
initialDelaySeconds: 20}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
periodSeconds: 10}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
timeoutSeconds: 5}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
failureThreshold: 6}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
startupProbe:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
enabled: true}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
initialDelaySeconds: 30}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
periodSeconds: 10}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
failureThreshold: 30}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
extraEnvVars:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
- name: RABBITMQ_VM_MEMORY_HIGH_WATERMARK}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
    }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
value: "0.4"}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
- name: RABBITMQ_DISK_FREE_LIMIT_ABSOLUTE}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
    }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
value: "2GB"}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
6.2 Deployment logic}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls16 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Single replica}{
 to start; you can later move to clustered RabbitMQ if needed. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls16 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Longhorn storageClass}{
 ensures replicated, RWO storage. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls16 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Probes}{
 (liveness, readiness, startup) prevent flapping during startup and recovery. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls16 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Security contexts}{
 ensure correct permissions on the mounted volume. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
Install example:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
helm repo add bitnami https://charts.bitnami.com/bitnami}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
helm repo update}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
helm install rabbitmq bitnami/rabbitmq \\}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
-f values-longhorn.yaml \\}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
--namespace messaging \\}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
--create-namespace}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
6.3 Upgrade logic}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  1.\tab}\ilvl0\ls17 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Confirm backups and/or Longhorn snapshots exist. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  2.\tab}\ilvl0\ls17 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Optionally scale down to 0 for conservative upgrades: }
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl scale statefulset rabbitmq -n messaging --replicas=0}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  3.\tab}\ilvl0\ls17 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Upgrade the Helm release: }
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
helm upgrade rabbitmq bitnami/rabbitmq \\}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
-f values-longhorn.yaml \\}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
-n messaging}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  4.\tab}\ilvl0\ls17 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Scale back up (if scaled down): }
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\fi0\li709\lin709\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl scale statefulset rabbitmq -n messaging --replicas=1}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain  5.\tab}\ilvl0\ls17 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Verify: }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls17 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Pod Running }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls17 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\sb0\sa0\ltrpar{
Volume Attached }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl1\ls17 \fi-283\li0\lin0\ql\tx1418\fi-283\li1418\lin1418\ltrpar{
Queues accessible }
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s2\ilvl1\outlinelevel1\sb200\sa120\rtlch\af10\afs36\ab\ltrch\hich\af3\afs36\ab\dbch\af9\loch\f3\fs36\b\ql\ltrpar{
7. Appendices}
\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
7.1 Key commands}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# Engine deletion (for a given volume)}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system delete engine -l longhornvolume=<volume-name>}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# Restart instance managers}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system delete pods -l longhorn.io/component=instance-manager}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar

\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
# Restart Longhorn managers}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
kubectl -n longhorn-system delete pods -l app=longhorn-manager}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
7.2 Replica selection logic}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
When using Salvage:}
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls18 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Prefer replicas on nodes that did }{\cs15\rtlch\ab\ltrch\hich\ab\dbch\ab\loch\b
not}{
 crash mid\_write. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls18 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\sb0\sa0\ltrpar{
Prefer replicas with the most recent modification timestamps. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140{\listtext\pard\plain \rtlch\af5\ltrch\hich\af5\dbch\af5\loch\f5 \u8226\'95\tab}\ilvl0\ls18 \fi-283\li0\lin0\ql\tx709\fi-283\li709\lin709\ltrpar{
Avoid replicas on disks that show I/O errors or SMART warnings. }
\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
If in doubt and you have backups, consider restoring instead of salvaging.}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s3\ilvl2\outlinelevel2\sb140\sa120\rtlch\af10\afs28\ab\ltrch\hich\af3\afs28\ab\dbch\af9\loch\f3\fs28\b\ql\ltrpar{
7.3 Salvage decision tree}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
Volume Faulted?}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  \u9492\'3f\u9472\'3f\u9472\'3f }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
No  \u8594\'3f Do not use Salvage. Investigate other causes.}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
  \u9492\'3f\u9472\'3f\u9472\'3f }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
Yes \u8594\'3f Is data present on disk (replica dirs)?}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
            \u9492\'3f\u9472\'3f\u9472\'3f }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
No  \u8594\'3f Restore from backup.}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
            \u9492\'3f\u9472\'3f\u9472\'3f }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
Yes \u8594\'3f Use Salvage:}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
                      }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
- Delete engine (if needed)}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
                      }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
- Salvage in UI}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
                      }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
- Select replicas}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
                      }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
- Attach volume}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
                      }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
- Restart workload}
\par \pard\plain \s26\sb0\sa0\rtlch\af4\afs20\ltrch\hich\af4\afs20\dbch\af7\loch\f4\fs20\ql\sb0\sa283\ltrpar{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
                      }{\cs16\rtlch\af4\ltrch\hich\af4\dbch\af7\loch\f4
- Verify data}
\par \pard\plain \s24\sb0\sa283\brdrt\brdrnone\brdrl\brdrnone\brdrb\brdrdb\brdrw1\brdrcf15\brsp0\brdrr\brdrnone\noline\rtlch\afs12\ltrch\fs12\ql\ltrpar

\par \pard\plain \s20\sl276\slmult1\sb0\sa140\ql\ltrpar{
If you\u8217\'92d like, I can now give you a minimal Pandoc command or VS Code extension suggestion to turn this Markdown into a PDF on your machine, so you\u8217\'92re not blocked by partial file generation again.}
\par \pard\plain \s0\widctlpar\hyphpar0\ltrpar\cf0\kerning1\rtlch\af10\afs24\alang1081\ltrch\hich\af3\afs24\alang1033\dbch\af9\langfe2052\loch\f3\fs24\lang1033\ql\ltrpar

\par }